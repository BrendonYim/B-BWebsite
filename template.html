<!DOCTYPE html>
<html>
<head>
	<title>Group 1 | CS 174 - Intro To Web Development | Project Scraping BnB</title>
	<link rel="stylesheet" type="text/css" href="template.css">
 	 <link rel="import" href="temp.hip">
</head>
<body >

	<div class="wrapper">
		<div style="width:50%; float:left;">
			<h1>Bed & Breakfast: Airbnb + Homeaway <small>Group 1 - CS 174</small></h1>
			<h3>Aishwarya Venketeswaran | Brendon Yim | Hung Tran | John Franklin | Kun Su | Mohammad AbdelJabbar</h3>
		</div>
		<div style="width:50%; float:right; text-align:right;">{{ weather }}</div>
		
		
		<form method="POST" name="formMain" onsubmit="handleSubmission();">
			<div class="input-wrapper">
	  			<label>Location: </label>
	  			<input type="text" name="location" value="" placeholder="Where to?">
	  		</div>
			
			<!-- Recommend Result -->
			<div class="input-wrapper">
	  			<label>City/State/Country (Optional for other places): </label>
	  			<input type="text" name="state" value="" placeholder="City/State/Country?">
	  		</div>
			
			<div class="input-wrapper">
				<label>Guests: </label>
				<input type="number" name="guests" value="" placeholder="#">
			</div>

			<div class="input-wrapper">
				<label>Dates: </label>
				<input type="date" name="checkin" placeholder="Check-in time">
				<input type="date" name="checkout" placeholder="Checkout-out time">
			</div>
			
			<div class="input-wrapper">
				<label>Price Range:</label> 
				<input type="number" name="priceMin" value="Minimum Price in $" >
				<input type="number" name="priceMax" value="Maximum Price in $" >
			</div>
  			
  			<div class="button-wrapper">
  				<br />
  				<button id="btnSubmit" type="submit">Submit</button>
  			</div>
  			<div id="catCage">
		</form>

		<div class="listingContainer">
			<div class="listings" style="width:75%; float: left;">
				{{ listings }}
			</div>

			<div class="listings recContainer">
				<h3>Popular Cities:</h3>
					{{ recommend_result }}
			</div>
		</div>
		
	</div>

	
	<script>
		function handleSubmission() {
			var btn = document.getElementById('btnSubmit');
			btn.innerHTML='Please wait...'; 
			btn.setAttribute('disabled', true); 
			var catCage = document.getElementById('catCage');
			i = 0;
			function catgen() {
				var d = new Date();
				catCage.innerHTML = '';
				cat = document.createElement('img');
				cat.src = "http://thecatapi.com/api/images/get?format=src&results_per_page=1" + "&time=" + d.getTime();
				catCage.appendChild(cat);
				btn.innerHTML="Not what you're looking for but it helps with the wait...";
				i++;
			}

			setTimeout(catgen, 700);
			setInterval(catgen, 8000);
		}
	</script>

</body>
</html>
